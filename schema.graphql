type Community @entity {
  id: ID!
  communityId: BigInt!
  name: String!
  description: String!
  imageUrl: String!
  games: [String!]!
  currentGame: String!
  state: BigInt!
  createdAt: BigInt!
  createdAtBlock: BigInt!
  transactionHash: Bytes!
}

type CommunityCreated @entity(immutable: true) {
  id: Bytes!
  communityId: BigInt!
  name: String!
  description: String!
  imageUrl: String!
  games: String!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type CommunityStateChanged @entity(immutable: true) {
  id: Bytes!
  communityId: BigInt!
  newState: Int!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Initialized @entity(immutable: true) {
  id: Bytes!
  version: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type OwnershipTransferred @entity(immutable: true) {
  id: Bytes!
  previousOwner: Bytes!
  newOwner: Bytes!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Upgraded @entity(immutable: true) {
  id: Bytes!
  implementation: Bytes!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type SubmissionToContributionTransition @entity(immutable: true) {
  id: Bytes!
  idWeek: String!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type ContributionSubmitted @entity(immutable: true) {
  id: Bytes!
  user: Bytes!
  communityId: BigInt!
  weekNumber: BigInt!
  contributionIds: [String!]!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type Contribution @entity {
  id: ID!
  name: String!
  description: String!
  links: [String!]!
}

type NewGroupsCreated @entity(immutable: true) {
  id: Bytes!
  eventId: String!
  contributionStrings: [String!]!
  rankingStrings: [String!]!
  memberAddresses: [String!]!  # Changed from [[Bytes!]!]! to [String!]!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}

type RespectUpdated @entity(immutable: true) {
  id: Bytes!
  user: Bytes!
  communityId: BigInt!
  weekNumber: BigInt!
  respectAmount: BigInt!
  averageRespect: BigInt!
  blockNumber: BigInt!
  blockTimestamp: BigInt!
  transactionHash: Bytes!
}